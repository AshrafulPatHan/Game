<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Road Game</title>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #7ec850;
            font-family: Arial, sans-serif;
        }

        /* ✅ ROAD */
        .road {
            position: absolute;
            width: 300px;
            height: 100vh;
            background: #333;
            left: 50%;
            transform: translateX(-50%);
        }

        .road::before {
            content: "";
            position: absolute;
            width: 6px;
            height: 100%;
            background: repeating-linear-gradient(
                white 0px,
                white 20px,
                transparent 20px,
                transparent 40px
            );
            left: 50%;
            transform: translateX(-50%);
        }

        /* ✅ TREES */
        .tree {
            width: 40px;
            height: 60px;
            background: green;
            border-radius: 50% 50% 0 0;
            position: absolute;
        }

        .tree::after {
            content: "";
            position: absolute;
            width: 10px;
            height: 20px;
            background: brown;
            bottom: -20px;
            left: 15px;
        }

        .tree1 { top: 100px; left: 10%; }
        .tree2 { top: 300px; right: 10%; }
        .tree3 { top: 500px; left: 15%; }

        /* ✅ CAR */
        .object {
            width: 60px;
            height: 40px;
            position: absolute;
            transition: all 0.08s linear; /* ✅ smooth animation */
            z-index: 10;
        }

        .car {
            width: 100%;
            height: 100%;
            fill: yellow;
        }

        /* ✅ OBSTACLE */
        .obstacle {
            width: 12px;
            height: 120px;
            background: red;
            position: absolute;
            top: 250px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>

<body>

    <!-- ✅ TREES -->
    <div class="tree tree1"></div>
    <div class="tree tree2"></div>
    <div class="tree tree3"></div>

    <!-- ✅ ROAD -->
    <div class="road"></div>

    <!-- ✅ CAR -->
    <div class="object" id="myBox">
        <svg viewBox="0 0 512 512" class="car" >
            <path transform="rotate(90 200 200)" d="M467 208H449L380 96H132L63 208H45C20.2 208 0 228.2 0 253V333C0 357.8 20.2 378 45 378H50C50 414.5 79.5 444 116 444C152.5 444 182 414.5 182 378H330C330 414.5 359.5 444 396 444C432.5 444 462 414.5 462 378H467C491.8 378 512 357.8 512 333V253C512 228.2 491.8 208 467 208Z"/>
        </svg>
    </div>

    <!-- ✅ WALL -->
    <div class="obstacle" id="wall"></div>

    <script>
        const myBox = document.getElementById("myBox");
        const wall = document.getElementById("wall");
        const moveAmount = 10;

        myBox.style.top = "20px";
        myBox.style.left = "50%";

        function isColliding(nextTop, nextLeft) {
            const boxRect = {
                top: nextTop,
                left: nextLeft,
                right: nextLeft + 60,
                bottom: nextTop + 40
            };

            const wallRect = wall.getBoundingClientRect();

            return (
                boxRect.right > wallRect.left &&
                boxRect.left < wallRect.right &&
                boxRect.bottom > wallRect.top &&
                boxRect.top < wallRect.bottom
            );
        }

        document.addEventListener("keydown", (event) => {
            let currentTop = parseInt(myBox.style.top);
            let currentLeft = myBox.getBoundingClientRect().left;

            let nextTop = currentTop;
            let nextLeft = currentLeft;

            if (event.key === "ArrowUp") nextTop -= moveAmount;
            if (event.key === "ArrowDown") nextTop += moveAmount;
            if (event.key === "ArrowLeft") nextLeft -= moveAmount;
            if (event.key === "ArrowRight") nextLeft += moveAmount;

            if (!isColliding(nextTop, nextLeft)) {
                myBox.style.top = nextTop + "px";
                myBox.style.left = nextLeft + "px";
            }
        });
    </script>

</body>
</html>
