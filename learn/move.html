<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Obstacle Game</title>
    <style>
        .object {
            width: 50px;
            height: 50px;
            position: absolute;
        }

        .obstacle {
            width: 10px;
            height: 120px;
            background: red;
            position: absolute;
            top: 100px;
            left: 200px;
        }
    </style>
</head>

<body>

<div class="object" id="myBox">
     <svg viewBox="0 0 512 512" class="car">
        <path d="M467 208H449L380 96H132L63 208H45C20.2 208 0 228.2 0 253V333C0 357.8 20.2 378 45 378H50C50 414.5 79.5 444 116 444C152.5 444 182 414.5 182 378H330C330 414.5 359.5 444 396 444C432.5 444 462 414.5 462 378H467C491.8 378 512 357.8 512 333V253C512 228.2 491.8 208 467 208ZM116 414C96.1 414 80 397.9 80 378C80 358.1 96.1 342 116 342C135.9 342 152 358.1 152 378C152 397.9 135.9 414 116 414ZM396 414C376.1 414 360 397.9 360 378C360 358.1 376.1 342 396 342C415.9 342 432 358.1 432 378C432 397.9 415.9 414 396 414ZM448 280H64V256H448V280Z"/>
    </svg>
</div>

<div class="obstacle" id="wall"></div>

<script>
    const myBox = document.getElementById("myBox");
    const wall = document.getElementById("wall");
    const moveAmount = 10;

    myBox.style.top = "0px";
    myBox.style.left = "0px";

    function isColliding(nextTop, nextLeft) {
        const boxRect = {
            top: nextTop,
            left: nextLeft,
            right: nextLeft + 50,
            bottom: nextTop + 50
        };

        const wallRect = wall.getBoundingClientRect();

        return (
            boxRect.right > wallRect.left &&
            boxRect.left < wallRect.right &&
            boxRect.bottom > wallRect.top &&
            boxRect.top < wallRect.bottom
        );
    }

    document.addEventListener("keydown", (event) => {
        let currentTop = parseInt(myBox.style.top);
        let currentLeft = parseInt(myBox.style.left);

        let nextTop = currentTop;
        let nextLeft = currentLeft;

        if (event.key === "ArrowUp") {
            nextTop -= moveAmount;
        }
        if (event.key === "ArrowDown") {
            nextTop += moveAmount;
        }
        if (event.key === "ArrowLeft") {
            nextLeft -= moveAmount;
        }
        if (event.key === "ArrowRight") {
            nextLeft += moveAmount;
        }

        // âœ… STOP movement if collision happens
        if (!isColliding(nextTop, nextLeft)) {
            myBox.style.top = nextTop + "px";
            myBox.style.left = nextLeft + "px";
        }
    });
</script>

</body>
</html>
